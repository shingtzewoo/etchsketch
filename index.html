<html>
    <head>
        <title>Etch a Sketch</title>
        <link rel="stylesheet" type="text/css" href="style.css"/>
    </head>
    <body>
        <section id="control">
            <button>Clear</button>
        </section>
        <section id="canvas">
            <div class="container"></div>
        </section>
        <script>
            let value = 16;
            let totalvalue = value*value;
            const button = document.querySelector('button');
            const container = document.querySelector('.container');

            function colorMaker(e) {
                e.target.style.backgroundColor = 'blue';
            }
            
            function containerSetter() {
                container.setAttribute('style', `display: grid; grid-template-columns: repeat(${value}, 1fr); grid-template-rows: repeat(${value}, 1fr)`);
            }

            containerSetter();

            function reset () {
                value = prompt('How many squares would you like per side for your canvas?');
                value = parseInt(value, 10);
                //add method to remove all divs from the container, so new divs can enter
            }

            //when using the clear button: setting the amount of divs, old divs get pushed down (so the board doesn't actually "clear" out old divs).
            //additionally, eventlistener only works for certain divs and color does not get cleared from the board
            function gridMaker () {
                containerSetter();
                for (let i = 0; i <= totalvalue; i++) {
                    let box = document.createElement('div');
                    box.classList.add('box');
                    box.setAttribute('style', 'height: auto; width: auto');
                    container.appendChild(box);
                };
            };

            gridMaker();

            button.addEventListener('click', reset);
            button.addEventListener('click', gridMaker);


            const boxes = document.querySelectorAll('.box');
            boxes.forEach((box) => box.addEventListener('mouseover',colorMaker))
        </script>
    </body>
</html>